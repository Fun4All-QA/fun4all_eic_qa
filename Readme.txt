v 2.0

The analysis plots can be generated by following the procedure entailed below:
• Run `SetUp.csh` - Set the appropriate variable values in the script at the top, and then run it to submit jobs to condor
• Run `Combiner.csh` after the condor jobs are completed - Set the appropriate number of jobs, and then run this script to combine the statistics from all the different jobs
• Run the macros - The macros `LoopEvalFR.C` (pions), `LoopEvalHR.C` (pions), and LoopEvalPortableCircularCut.csh (electrons) can be used to obtain the analysis plots


----------------------------------------------------------------------------------------------------


The description for individual scripts and macros is as follows:


> Combiner.csh
- Creates a folder EvalFiles containing all the output root files from the condor jobs
- The failed and incomplete jobs are stored at `brownJobs/` and `brownJobs/redJobs/` for investigation
- The combined statistics are stored at merged_Eval_<detector>.root
- Output file - merged_Eval_<detector>.root, folders as described above



> LoopEvalFR.C(int print = 1, int debug = 0, Double_t energyCutAggregate = 0.1, Double_t energyCut = 0.0, int MIP_theta_parametrisation = 1)
- Creates the analysis plots for the combined forward calorimeters FEMC+FHCAL (default parameters for pions)
- Processing - Eta Cuts, Manual Clustering (or elliptical cuts based on difference between generated and detected azimuth and polar angle), Recalibration, Tower energy cuts on FEMC alone and FEMC+FHCAL as well, and polar angle based energy cuts to eliminate MIPs    
- Arguments
  # print - saves plots as .png files if not 0
  # debug - prints debugging messages if not 0; Pipe the output to a file while using this
  # energyCutAggregate - specify the value for the tower energy cut on FEMC+FHCAL
  # energyCut - specify the value for the tower energy cut on individual towers
  # MIP_theta_parametrization - applies a polar angle dependent energy cut on individual towers of FEMC to eliminate MIPs, based on the parametric equation provided in the code
- Output file - energy_verification_EtaCut_CircularCut_FEMC_FHCAL.root, and the .png plots if generated



> LoopEvalHR.C(int print = 1, int debug = 0, Double_t energyCutAggregate = 0.1, Double_t energyCut = 0.0, int MIP_theta_parametrisation = 1)
- Creates the analysis plots for the combined forward calorimeters CEMC+HCALIN+HCALOUT (default parameters for pions)
- Processing - Eta Cuts, Manual Clustering (or elliptical cuts based on difference between generated and detected azimuth and polar angle), Recalibration, Tower energy cuts on CEMC alone and CEMC+HCALIN+HCALOUT as well, and polar angle based energy cuts to eliminate MIPs    
- Arguments
  # print - saves plots as .png files if not 0
  # debug - prints debugging messages if not 0; Pipe the output to a file while using this
  # energyCutAggregate - specify the value for the tower energy cut on CEMC+HCALIN+HCALOUT
  # energyCut - specify the value for the tower energy cut on individual towers
  # MIP_theta_parametrization - applies a polar angle dependent energy cut on individual towers of CEMC to eliminate MIPs, based on the parametric equation provided in the code
 - Output file - energy_verification_EtaCut_CircularCut_CEMC_HCALIN_HCALOUT.root, and the .png plots if generated



> LoopEvalPortableCircularCut.C(TString detector, int print = 0, int mips = 1, int debug = 0, Double_t energyCutAggregate = 0.0, Double_t energyCut = 0.0)
- Creates analysis plots for the individual detector passed as an argument
- Processing - Eta Cuts, Manual Clustering (or elliptical cuts based on difference between generated and detected azimuth and polar angle), Recalibration, Tower energy cuts on individual towers as well as tower energy aggregated over an event
- Arguments
 # detector - CEMC, EEMC, FEMC, FHCAL, HCALIN, HCALOUT
 # print - saves plots as .png files if not 0
 # mips - enable MIPs characterization (used with muons as particles; returns an equation that describes energy deposition by MIPs as a function of the polar angle, which can be used for a theta-dependent energy cut that eliminates MIPs)
 # debug - prints debugging messages if not 0; Pipe the output to a file while using this
 # energyCutAggregate - specify the value for the tower energy cut on FEMC+FHCAL
 # energyCut - specify the value for the tower energy cut on individual towers
- Output file - Energy_verification_EtaCut_CircularCut_<detector>.root, and the .png plots if generated



> LoopEvalPortableCircularCut.csh
- Runs LoopEvalPortableCircularCut.C for all detectors
- Output file - <detector>_CircularCut.txt, containing the terminal output of LoopEvalPortableCircularCut.C for the given detector



> SetUp.csh
- Submits the required number of condor jobs according to the parameters provided; helps in submitting jobs in batches 
- Output file - multiple 'macros*' directories


> hadd.C(TString detector)
- Used to combine the evaluated root files while running jobs in batches
- Arguments
  # detector - CEMC, EEMC, FEMC, FHCAL, HCALIN, HCALOUT
- Output file - merged_Eval_<detector>.root



> hadd.csh
- Runs hadd.C for all detectors
- Output file - None of its own


----------------------------------------------------------------------------------------------------


The naming convention for .png files generated is as follows: detectorName_yVariable_xVariable_cutsApplied.png
The naming of variables also uses operator-words such as 'minus' and 'by'. 
e.g. [(ce-ge)/ge vs ge] with eta cuts applied is saved as ce_minus_ge_by_ge_ge_EtaCut.png 


Note: The names are not particle-specific, hence the macros must be run in separate folders for different particles


Note: The term circular cut in macro names actually refers to the elliptical cuts 


Note: The variables within macros such as cut radius, plot range, required energy resolution etc. are particle specific; the macros can otherwise be used with any particle desired 
